{"version":3,"file":"670.bundle.js","mappings":"8GAEIA,EAAI,EAAQ,KAEdC,EAAQ,EAAaD,EAAEE,WACDF,EAAEG,W,unDCWnB,SAASC,EAAaC,GAC3B,OAAO,W,0FACY,SAAMA,K,OAChB,UADDC,EAAW,SAAmB,W,OACpC,MAAO,CAAP,EAAO,U,OAEX,CAEO,SAASC,EAAsBF,GACpC,OAAO,W,wGACY,SAAMA,K,OAWvB,OAXMC,EAAW,SAAmB,OAC9BE,EAAOC,eAAeC,QAAQ,QAG9BC,EAAcC,OAAOC,SAASC,SAC9BC,EAA8B,WAAhBJ,EAGpBF,eAAeO,QAAQ,kBAAmBL,GAGrCH,GAASO,EAIK,GAAMT,KAHhB,CAAP,GAAO,IAAAW,UAAS,W,OAKlB,OAFMC,EAAa,SAEZ,CAAP,KAASV,KAAI,GAAKU,I,OAEtB,CAyCO,IC1EDC,EAAY,UAAW,WAAM,yCAA+BC,MAAK,SAAC,GAAkB,OAAGC,QAAV,YAAO,GAAvD,IAGpB,SAASC,IAChB,OAAoB,IAAAC,UAAiB,GAApCC,EAAK,KAAEC,EAAQ,KACtB,OACE,oCACE,kBAAC,aAAc,CAACC,SAAU,4CACxB,kBAACP,EAAS,CAACK,MAAOA,EAAOG,QAAS,WAAM,OAAAF,EAAS,EAAT,KAYhD,CC3BA,ICEMG,EAAW,UAAW,WAAM,yCAA6BR,MAAK,SAAC,GAAiB,OAAGC,QAAV,WAAO,GAApD,IAG5BQ,GAAS,IAAAC,qBAAoB,CACjC,CACEC,KAAM,IACNC,QAAS,mBDRD,WACV,OACE,oCACE,kBAACV,EAAa,MAGpB,GCEiB,MACbW,aAAc,kBAACL,EAAQ,MACvBM,SAAU,CACR,CACEH,KAAM,GACNzB,OAAQF,GAAa,WAAM,4CAC3B+B,KAAM,WAAM,2CAEd,CACEJ,KAAM,OACNG,SAAU,CACR,CACEH,KAAM,GACNzB,OAAQC,GAAsB,WAAM,4CACpC4B,KAAM,WAAM,0CACZD,SAAU,CACR,CACEH,KAAM,QACNzB,OAAQC,GACN,WAAM,4CAER4B,KAAM,WAAM,2CAEd,CACEJ,KAAM,GACNzB,OAAQC,GACN,WAAM,4CAER4B,KAAM,WAAM,2CAEd,CACEJ,KAAM,UACNzB,OAAQC,GACN,WAAM,4CAER4B,KAAM,WAAM,+CAMtB,CACEJ,KAAM,QACNzB,OAAQF,GAAa,WAAM,4CAC3B+B,KAAM,WAAM,0CACZF,aAAc,kBAACL,EAAQ,OAEzB,CACEG,KAAM,WACNzB,OAAQF,GAAa,WAAM,4CAC3B+B,KAAM,WAAM,0CACZF,aAAc,kBAACL,EAAQ,OAEzB,CACEG,KAAM,QACNG,SAAU,CACR,CACEH,KAAM,GACNG,SAAU,CACR,CACEH,KAAM,GACNzB,OAAQC,GAAsB,WAAM,4CACpC4B,KAAM,WAAM,2CAEd,CACEJ,KAAM,UACNzB,OAAQC,GACN,WAAM,4CAER4B,KAAM,WAAM,2CAEd,CACEJ,KAAM,OACNzB,OAAQC,GACN,WAAM,4CAER4B,KAAM,WAAM,+CAMtB,CACEJ,KAAM,OACNG,SAAU,CACR,CACEH,KAAM,GACNzB,OAAQC,GAAsB,WAAM,4CACpC4B,KAAM,WAAM,iD,SC1FlBC,EAAUC,SAASC,eAAe,SAC3B,OAAWF,GAGnBG,OACH,kBAAC,eAAgB,KACf,kBAAC,EAAAC,eAAc,CAACC,MAAO,EAAAC,iBAErB,kBAAC,EAAAC,eAAc,CAACd,OAAQA,M","sources":["webpack://container/../node_modules/react-dom/client.js","webpack://container/../packages/utilities/src/index.ts","webpack://container/./src/components/MainContainer/Component.tsx","webpack://container/./src/App.tsx","webpack://container/./src/router/router.config.tsx","webpack://container/./src/bootstrap.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { redirect } from \"react-router-dom\";\r\nimport type { Response } from \"./types\";\r\n\r\nexport function getToken() {\r\n  const cookieString = document.cookie; // Get cookie string\r\n  console.log(cookieString);\r\n  // const token = cookieString\r\n  //   .split(\";\")\r\n  //   .map((cookie) => cookie.trim())\r\n  //   .find((cookie) => cookie.startsWith(\"token=\"))\r\n  //   ?.split(\"=\")[1]; // Extract token value from cookie string\r\n  // console.log(token);\r\n  // debugger;\r\n  return cookieString;\r\n}\r\n\r\nexport function createLoader(remoteEntry: () => Promise<any>) {\r\n  return async function () {\r\n    let { loader } = await remoteEntry();\r\n    return await loader();\r\n  };\r\n}\r\n\r\nexport function createProtectedLoader(remoteEntry: () => Promise<any>) {\r\n  return async function () {\r\n    let { loader } = await remoteEntry();\r\n    const user = sessionStorage.getItem(\"user\");\r\n\r\n    // Exclude /login path from being recorded as last visited page\r\n    const currentPath = window.location.pathname;\r\n    const isLoginPage = currentPath === \"/login\";\r\n\r\n    //save user last path in session\r\n    sessionStorage.setItem(\"lastVisitedPage\", currentPath);\r\n\r\n    // const data = localStorage.getItem(\"user\");\r\n    if (!user && !isLoginPage) {\r\n      return redirect(\"/login\");\r\n    }\r\n\r\n    const loaderData = await loader();\r\n\r\n    return { user, ...loaderData };\r\n  };\r\n}\r\n\r\nasync function request<T>(\r\n  url: string,\r\n  method: RequestInit[\"method\"],\r\n  requestPayload?: any,\r\n  config?: RequestInit\r\n): Promise<Response<T>> {\r\n  try {\r\n    // const token = getToken();\r\n    const response = await fetch(url, {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        // ...(token && { Authorization: `Bearer ${token}` }),\r\n      },\r\n      method,\r\n      ...(requestPayload && { body: JSON.stringify(requestPayload) }),\r\n      ...config,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      const data = (await response.json()) as T;\r\n      return {\r\n        data,\r\n      };\r\n    } else {\r\n      const errorMessage = (await response.json()) as string;\r\n      return {\r\n        error: response.status,\r\n        errorMessage,\r\n      };\r\n    }\r\n  } catch (error) {\r\n    return {\r\n      error: -1,\r\n      errorMessage: error.toString(),\r\n    };\r\n  }\r\n}\r\n\r\nexport const api = {\r\n  get: <ResponseData>(url: string) => request<ResponseData>(url, \"GET\"),\r\n  post: <ResponseData>(url: string, requestPayload: any) =>\r\n    request<ResponseData>(url, \"POST\", requestPayload),\r\n  put: <ResponseData>(url: string, requestPayload: any) =>\r\n    request<ResponseData>(url, \"PUT\", requestPayload),\r\n  batch: <ResponseData>(url: string, requestPayload: any) =>\r\n    request<ResponseData>(url, \"BATCH\", requestPayload),\r\n  delete: <ResponseData>(url: string) => request<ResponseData>(url, \"DELETE\"),\r\n};\r\n","import React, { useState } from \"react\";\r\n// import {\r\n//   Button,\r\n// } from \"@fluentui/react-components\";\r\n// import {\r\n//   AddCircle24Regular,\r\n\r\n// } from \"@fluentui/react-icons\";\r\n\r\n\r\n\r\nconst AppHeader = React.lazy(() => import(\"app_header/AppHeader\").then(({ AppHeader }) => ({ default: AppHeader })));\r\n\r\n\r\nexport default function MainContainer() {\r\n  const [count, setCount] = useState<number>(0);\r\n  return (\r\n    <>\r\n      <React.Suspense fallback={<div>Loading...</div>}>\r\n        <AppHeader count={count} onClear={() => setCount(0)} />\r\n      </React.Suspense>\r\n      {/* <div>Count: {count}</div>\r\n      <div>\r\n        <Button\r\n          icon={<AddCircle24Regular />}\r\n          size=\"large\"\r\n          onClick={() => setCount(count + 1)}\r\n        >Add to Cart</Button>\r\n      </div> */}\r\n    </>\r\n  );\r\n}; ","import MainContainer from \"./components/MainContainer/Component\";\r\nimport \"./styles/index.scss\";\r\nimport React from \"react\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <MainContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n\r\n\r\n","import { createBrowserRouter } from \"react-router-dom\";\r\nimport { createLoader, createProtectedLoader } from \"@mimo/utilities\";\r\nimport React from \"react\";\r\nimport App from \"../App\";\r\n\r\n\r\nconst AppError = React.lazy(() => import(\"app_error/AppError\").then(({ AppError }) => ({ default: AppError }))); // export  { AppError };\r\n//const AppError = React.lazy(() => import(\"app_error/AppError\")); // export  { AppError };/\r\n\r\nconst router = createBrowserRouter([\r\n  {\r\n    path: \"/\",\r\n    element: <App />,\r\n    errorElement: <AppError />,\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        loader: createLoader(() => import(\"app_home/CounterAppHome\")),\r\n        lazy: () => import(\"app_home/CounterAppHome\"),\r\n      },\r\n      {\r\n        path: \"user\",\r\n        children: [\r\n          {\r\n            path: \"\",\r\n            loader: createProtectedLoader(() => import(\"app_user/AppUser\")),\r\n            lazy: () => import(\"app_user/AppUser\"),\r\n            children: [\r\n              {\r\n                path: \"reset\",\r\n                loader: createProtectedLoader(\r\n                  () => import(\"app_user/ResetPasswordForm\")\r\n                ),\r\n                lazy: () => import(\"app_user/ResetPasswordForm\"),\r\n              },\r\n              {\r\n                path: \"\",\r\n                loader: createProtectedLoader(\r\n                  () => import(\"app_user/UserProfile\")\r\n                ),\r\n                lazy: () => import(\"app_user/UserProfile\"),\r\n              },\r\n              {\r\n                path: \"setting\",\r\n                loader: createProtectedLoader(\r\n                  () => import(\"app_user/UserSetting\")\r\n                ),\r\n                lazy: () => import(\"app_user/UserSetting\"),\r\n              },\r\n            ]\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: \"login\",\r\n        loader: createLoader(() => import(\"app_login/CounterAppLogin\")),\r\n        lazy: () => import(\"app_login/CounterAppLogin\"),\r\n        errorElement: <AppError />,\r\n      },\r\n      {\r\n        path: \"register\",\r\n        loader: createLoader(() => import(\"app_login/AppRegister\")),\r\n        lazy: () => import(\"app_login/AppRegister\"),\r\n        errorElement: <AppError />,\r\n      },\r\n      {\r\n        path: \"items\",\r\n        children: [\r\n          {\r\n            path: \"\",\r\n            children: [\r\n              {\r\n                path: \"\",\r\n                loader: createProtectedLoader(() => import(\"app_items/AppItems\")),\r\n                lazy: () => import(\"app_items/AppItems\"),\r\n              },\r\n              {\r\n                path: \":itemId\",\r\n                loader: createProtectedLoader(\r\n                  () => import(\"app_items/AppItemSingle\")\r\n                ),\r\n                lazy: () => import(\"app_items/AppItemSingle\"),\r\n              },\r\n              {\r\n                path: \"test\",\r\n                loader: createProtectedLoader(\r\n                  () => import(\"app_cart/AppCart\")\r\n                ),\r\n                lazy: () => import(\"app_cart/AppCart\"),\r\n              },\r\n            ]\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: \"cart\",\r\n        children: [\r\n          {\r\n            path: \"\",\r\n            loader: createProtectedLoader(() => import(\"app_cart/AppCart\")),\r\n            lazy: () => import(\"app_cart/AppCart\"),\r\n          },\r\n        ],\r\n      }\r\n    ],\r\n  },\r\n]);\r\n\r\nexport { router };\r\n","import React from \"react\";\r\nimport {\r\n  RouterProvider,\r\n} from \"react-router-dom\";\r\nimport { createRoot } from 'react-dom/client';\r\nimport { router } from \"./router/router.config\";\r\nimport { FluentProvider, teamsLightTheme } from '@fluentui/react-components';\r\n// import App from \"./App\";\r\n\r\n\r\nconst domNode = document.getElementById('root') as HTMLElement;\r\nconst root = createRoot(domNode);\r\n\r\n\r\nroot.render(\r\n  <React.StrictMode>\r\n    <FluentProvider theme={teamsLightTheme}>\r\n      {/* <App /> */}\r\n      <RouterProvider router={router} />\r\n    </FluentProvider>\r\n  </React.StrictMode>\r\n);"],"names":["m","exports","createRoot","hydrateRoot","createLoader","remoteEntry","loader","createProtectedLoader","user","sessionStorage","getItem","currentPath","window","location","pathname","isLoginPage","setItem","redirect","loaderData","AppHeader","then","default","MainContainer","useState","count","setCount","fallback","onClear","AppError","router","createBrowserRouter","path","element","errorElement","children","lazy","domNode","document","getElementById","render","FluentProvider","theme","teamsLightTheme","RouterProvider"],"sourceRoot":""}