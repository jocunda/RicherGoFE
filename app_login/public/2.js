"use strict";(self.webpackChunkapp_login=self.webpackChunkapp_login||[]).push([[2],{9002:function(e,t,r){r.r(t);var n=r(7378),a=r(4935),o=r(5781),s=r(9786),i=r(731),c=r(8594),l=r(9313),u=r(8481),f=r(5016),m=r(3735),p=r(4186),d=r(9222),h=r(9207),b=r(8123),g=r(42),w=r.n(g),v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)};function y(e,t,r,n){return a=this,o=void 0,i=function(){var a,o;return function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,fetch(e,v(v({headers:{Accept:"application/json","Content-Type":"application/json"},method:t},r&&{body:JSON.stringify(r)}),n))];case 1:return 200!==(a=s.sent()).status?[3,3]:[4,a.json()];case 2:return[2,{data:s.sent()}];case 3:return[4,a.json()];case 4:return o=s.sent(),[2,{error:a.status,errorMessage:o}];case 5:return[3,7];case 6:return[2,{error:-1,errorMessage:s.sent().toString()}];case 7:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{c(i.next(e))}catch(e){t(e)}}function n(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(r,n)}c((i=i.apply(a,o||[])).next())}));var a,o,s,i}var E={get:function(e){return y(e,"GET")},post:function(e,t){return y(e,"POST",t)},put:function(e,t){return y(e,"PUT",t)},batch:function(e,t){return y(e,"BATCH",t)},delete:function(e){return y(e,"DELETE")}},S=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function P(e){return S(this,void 0,void 0,(function(){return x(this,(function(t){return console.log(e),[2,E.post("/api/auth/login",e)]}))}))}function k(e){return S(this,void 0,void 0,(function(){return x(this,(function(t){return[2,E.post("/api/auth/register",e)]}))}))}var z=r(8039),O=r(1802),T=r(5484),M=function(){return M=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},M.apply(this,arguments)},j=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))},q=function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},B=function(e){return"Your password must have at least 1 ".concat(e," character")},I=T.Ry({username:T.Z_().min(3,"Username must be at least 3 characters long").max(10,"Username must be below 10 characters").required("Please Enter your Username"),password:T.Z_().min(6,"Passsword must be at least 6 characters long").max(12,"Passsword must be below 12 characters").matches(/[0-9]/,B("digit")).matches(/[a-z]/,B("lowercase")).matches(/[A-Z]/,B("uppercase")).matches(/[^\w]/,B("symbol")).required("Please Enter your Password")}).required();function C(){var e,t,r=this,g=(0,n.useState)(void 0),v=g[0],y=g[1],E=(0,n.useState)(),S=E[0],x=E[1],k=(0,a.f_)();console.log(k,"data");var T=(0,a.s0)(),B=(0,o.Me)("username"),C=(0,o.Me)("password"),G=(0,n.useState)("password"),N=G[0],_=G[1],U=function(){_((function(e){return"password"===e?"text":"password"}))},F=(0,o.Me)("toaster"),Z=(0,s.P)(F).dispatchToast,A=n.useState("info"),Q=A[0],D=A[1],J=function(e){switch(Q){case"error":case"info":case"success":case"warning":Z(n.createElement(i.F,null,n.createElement(c.M,null,e)),{position:"top-end",intent:Q})}},R=(0,z.cI)({resolver:(0,O.X)(I)}),Y=R.register,L=R.handleSubmit,V=R.trigger,H=R.formState,K=H.errors,X=H.isDirty,W=H.isValid,$=function(e){return j(r,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,V(e)];case 1:return t.sent(),[2]}}))}))};return(0,n.useEffect)((function(){var e;return v&&(e=setTimeout((function(){y("")}),8e3)),function(){clearTimeout(e)}}),[v]),n.createElement(n.Fragment,null,n.createElement("div",{className:"QCQS0laKPxh4hcm8knw7"},v&&n.createElement(b.b,{intent:S?"error":"success"},v)),n.createElement(l.x,{toasterId:F}),n.createElement("form",{method:"post",onSubmit:L((function(e,t){return j(r,void 0,void 0,(function(){var r,n,a,o,s,i,c,l,u,f;return q(this,(function(m){switch(m.label){case 0:return null==t||t.preventDefault(),r=function(e){return{username:e.username,password:e.password}}(e),console.log(e),[4,P(r)];case 1:return n=m.sent(),a=n.data,o=n.error,s=n.errorMessage,o&&(i=JSON.stringify(s),c=JSON.parse(i),y(c.message),x(!0),D("error"),J(c.message)),a&&(l=a.message,u=a.user,y("".concat(l,", ").concat(u)),x(!1),D("success"),J("".concat(l,", ").concat(u)),sessionStorage.setItem("user",a.user),f=sessionStorage.getItem("lastVisitedPage"),T(f||"/")),[2]}}))}))}))},n.createElement(u.g,{size:"large",label:"Username",validationState:K.username?"error":"none",validationMessage:K.username?"".concat(null===(e=K.username)||void 0===e?void 0:e.message):null,required:!0},n.createElement(f.I,M({size:"large",contentBefore:n.createElement(d.F8B,null),id:B},Y("username"),{onBlur:function(){return $("username")}}))),n.createElement(u.g,{size:"large",label:"Password",validationState:K.password?"error":"none",validationMessage:K.password?"".concat(null===(t=K.password)||void 0===t?void 0:t.message):null,required:!0},n.createElement(f.I,M({size:"large",type:N,contentAfter:"password"===N?n.createElement(h.GQS,{onClick:U}):n.createElement(h.Q0s,{onClick:U}),id:C},Y("password"),{onBlur:function(){return $("password")}}))),n.createElement(m.z,{appearance:"primary",type:"submit",size:"large",disabled:!X&&!W},"Login")),n.createElement("div",{className:w()("GZy1qihtKiAeG4OdX8F9","jQzBcjWmC2Y66TVKYL6x")},n.createElement(p.r,{href:"./login"},"Forgot Password?"),n.createElement(p.r,{href:"./register"},"Register")))}var G=r(8385),N=function(){return N=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)},_=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))},U=function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},F=function(e){return"Your password must have at least 1 ".concat(e," character")},Z=T.Ry({username:T.Z_().min(3,"Username must be at least 3 characters long").max(10,"Username must be below 10 characters").required("Please Enter your Username"),email:T.Z_().email("Invalid email").required("Please Enter your Email"),password:T.Z_().min(6,"Passsword must be at least 6 characters long").max(12,"Passsword be below 12 characters").matches(/[0-9]/,F("digit")).matches(/[a-z]/,F("lowercase")).matches(/[A-Z]/,F("uppercase")).matches(/[^\w]/,F("symbol")).required("Please Enter your Password")}).required();function A(){var e=this,t=(0,n.useState)(""),r=t[0],o=t[1],s=(0,n.useState)(),i=s[0],c=s[1],l=(0,a.f_)();console.log(l);var g=(0,n.useState)("password"),w=g[0],v=g[1],y=function(){v((function(e){return"password"===e?"text":"password"}))},E=(0,z.cI)({resolver:(0,O.X)(Z)}),S=E.register,x=E.handleSubmit,P=E.trigger,T=E.formState,M=T.errors,j=T.isDirty,q=T.isValid,B=function(t){return _(e,void 0,void 0,(function(){return U(this,(function(e){switch(e.label){case 0:return[4,P(t)];case 1:return e.sent(),[2]}}))}))};return(0,n.useEffect)((function(){var e;return r&&(e=setTimeout((function(){o("")}),8e3)),function(){clearTimeout(e)}}),[r]),n.createElement(n.Fragment,null,n.createElement("div",{className:"alert-section"},r&&n.createElement(b.b,{intent:i?"error":"success"},r)),n.createElement("form",{method:"post",onSubmit:x((function(t,r){return _(e,void 0,void 0,(function(){var e,n,a,s,i,l,u,f;return U(this,(function(m){switch(m.label){case 0:return null==r||r.preventDefault(),e=function(e){return{username:e.username,email:e.email,password:e.password}}(t),[4,k(e)];case 1:return n=m.sent(),a=n.data,s=n.error,i=n.errorMessage,s&&(l=JSON.stringify(i),u=JSON.parse(l),o(u.message),c(!0)),a&&(f=a.message,o(f),c(!1)),[2]}}))}))}))},n.createElement(u.g,{size:"large",label:"Username",validationState:M.username?"error":"none",validationMessage:M.username?"".concat(M.username.message):null,required:!0},n.createElement(f.I,N({size:"large",contentBefore:n.createElement(d.F8B,null)},S("username"),{onBlur:function(){return B("username")}}))),n.createElement(u.g,{size:"large",label:"Email",validationState:M.email?"error":"none",validationMessage:M.email?"".concat(M.email.message):null,required:!0},n.createElement(f.I,N({size:"large",contentBefore:n.createElement(G.O4M,null)},S("email"),{onBlur:function(){return B("email")}}))),n.createElement(u.g,{size:"large",label:"Password",validationState:M.password?"error":"none",validationMessage:M.password?"".concat(M.password.message):null,required:!0},n.createElement(f.I,N({size:"large",type:w,contentAfter:"password"===w?n.createElement(h.GQS,{onClick:y}):n.createElement(h.Q0s,{onClick:y})},S("password"),{onBlur:function(){return B("password")}}))),n.createElement(m.z,{appearance:"primary",type:"submit",size:"large",disabled:!j&&!q},"Register")),n.createElement("div",{className:"box"},"Have an account?"," ",n.createElement(p.r,{href:"./login"},"Login")))}var Q=r(5783),D=r(7634),J=r(184),R=r(9095),Y=document.getElementById("root"),L=(0,D.s)(Y),V=(0,Q.aj)([{path:"/",element:n.createElement((function(){return n.createElement(n.Fragment,null,n.createElement("section",{className:"hero"}),n.createElement("main",null,n.createElement("section",null,n.createElement("h1",null,"Hi, React_login222")),n.createElement(C,null),n.createElement(A,null)))}),null)}]);L.render(n.createElement(n.StrictMode,null,n.createElement(J.r,{theme:R.Y},n.createElement(a.pG,{router:V}))))}}]);
//# sourceMappingURL=2.js.map